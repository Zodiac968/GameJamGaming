[gd_scene load_steps=21 format=3 uid="uid://ctdwxj144rpo"]

[ext_resource type="PackedScene" uid="uid://wxrimxoxnuyf" path="res://Scenes/pushable_block.tscn" id="1_cgbhk"]
[ext_resource type="Texture2D" uid="uid://bwr4xyruu16nb" path="res://Assets/prototype_512x512_blue1.png" id="1_r5cwd"]
[ext_resource type="Material" uid="uid://bf7o6d0rpyae1" path="res://Materials/Blocks.tres" id="2_60ceu"]
[ext_resource type="PackedScene" uid="uid://0oskmuh316ul" path="res://Scenes/mover.tscn" id="2_nx34h"]
[ext_resource type="Material" uid="uid://bxn4q3u3wojqg" path="res://Materials/Blocks_purple.tres" id="2_yn7lh"]
[ext_resource type="PackedScene" uid="uid://d2mxdf1u5y6ax" path="res://Scenes/laser_trigger.tscn" id="3_88hyy"]
[ext_resource type="PackedScene" uid="uid://b4grix04m32rx" path="res://Scenes/Player.tscn" id="3_ud66p"]
[ext_resource type="Material" uid="uid://dye71whyjiob1" path="res://Materials/ability.tres" id="4_3lawf"]
[ext_resource type="PackedScene" uid="uid://c0hderrk701md" path="res://Scenes/laser.tscn" id="7_77ij0"]
[ext_resource type="Script" uid="uid://degoe8e61wfgs" path="res://Scenes/fade_transition_sample.gd" id="7_qq80v"]
[ext_resource type="Shader" uid="uid://3yoihwc6nrpe" path="res://Hologram/hologram_2.gdshader" id="11_pc6yr"]
[ext_resource type="Texture2D" uid="uid://nn85msmwy20l" path="res://Hologram/Scanlines_3.png" id="12_gkfnr"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_jx5go"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_t8f8m"]
sky_material = SubResource("ProceduralSkyMaterial_jx5go")

[sub_resource type="Environment" id="Environment_113vd"]
background_mode = 2
sky = SubResource("Sky_t8f8m")
tonemap_mode = 2
sdfgi_use_occlusion = true
glow_enabled = true
fog_enabled = true
fog_light_color = Color(1, 1, 1, 1)
fog_density = 0.001

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_eqjgg"]
albedo_texture = ExtResource("1_r5cwd")
uv1_triplanar = true
texture_filter = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_77ij0"]

[sub_resource type="SphereMesh" id="SphereMesh_3lawf"]
radius = 0.25
height = 0.5

[sub_resource type="SphereShape3D" id="SphereShape3D_3lawf"]
radius = 0.1855378

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3og0a"]
render_priority = 0
shader = ExtResource("11_pc6yr")
shader_parameter/normal_color = Color(0, 0, 0, 1)
shader_parameter/base_color = Vector3(0, 1, 0)
shader_parameter/fresnel_color = Vector3(0, 1, 0)
shader_parameter/fresnel_intensity = 11.15
shader_parameter/fresnel_amount = 1.0
shader_parameter/scanlines_texture = ExtResource("12_gkfnr")
shader_parameter/tile_scaling = Vector2(0, 5)
shader_parameter/scanlines_speed = Vector2(0, 0.1)
shader_parameter/vertex_displacement_intensity = 0.01

[node name="Node3D" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_113vd")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.942046, 0.2905377, -0.16774197, -0.18132083, -0.020259291, 0.98321545, 0.28226274, 0.956649, 0.07176572, -1.40096, 1.1201882, 0.246448)
shadow_enabled = true

[node name="Pushable" parent="." instance=ExtResource("1_cgbhk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.005385, 1.0349686, -3.4971004)

[node name="Ground" type="CSGBox3D" parent="."]
use_collision = true
size = Vector3(500, 1, 500)
material = SubResource("StandardMaterial3D_eqjgg")

[node name="World" type="CSGCombiner3D" parent="."]
use_collision = true

[node name="WhitePos1" type="Marker3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.3790133, 1.5327312, 8.736525)

[node name="WhitePos2" type="Marker3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.3790133, 4.4846554, 8.736525)

[node name="LaserBox" type="CSGBox3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.076442, 0.9389454, 3.7294416)
material = ExtResource("2_60ceu")

[node name="LaserRoot" parent="World/LaserBox" instance=ExtResource("7_77ij0")]
transform = Transform3D(-4.3711385e-08, 0.99999994, -4.371139e-08, 0, -4.3711385e-08, -1, -0.99999994, -4.3711385e-08, 1.9106855e-15, -0.49803734, 0, 0)

[node name="Pushable2" parent="World" instance=ExtResource("1_cgbhk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.1619825, 5.753968, 22.718857)

[node name="LaserRoot2" parent="World/Pushable2" instance=ExtResource("7_77ij0")]
transform = Transform3D(-4.3711385e-08, 0.99999994, -4.371139e-08, 0, -4.3711385e-08, -1, -0.99999994, -4.3711385e-08, 1.9106855e-15, -0.48803473, 0, 0)

[node name="WhiteBlock" type="CSGBox3D" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5817423, 2.5523381, 8.400701)
size = Vector3(1.7398796, 2.5193138, 1.0770874)
material = SubResource("StandardMaterial3D_77ij0")

[node name="Mover" parent="World/WhiteBlock" node_paths=PackedStringArray("object") instance=ExtResource("2_nx34h")]
finalPos = Array[Vector3]([Vector3(0.3790133, 4.3503113, 8.736525), Vector3(-4.3448286, 5.161697, 8.736525)])
object = NodePath("..")

[node name="WhiteBlock2" type="CSGBox3D" parent="World"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -15.950495, 1.7233917, 22.791382)
size = Vector3(1.7398796, 2.5193138, 1.0770874)
material = SubResource("StandardMaterial3D_77ij0")

[node name="Mover" parent="World/WhiteBlock2" node_paths=PackedStringArray("object") instance=ExtResource("2_nx34h")]
finalPos = Vector3(-4.7462916, 5.561946, 28.641985)
object = NodePath("..")
speed = 2

[node name="LaserTrigger" parent="World" instance=ExtResource("3_88hyy")]
transform = Transform3D(-0.99996156, 0.008778982, 3.8373704e-10, 3.996803e-15, 4.37114e-08, -1, -0.008778982, -0.99996156, -4.3709715e-08, 4.152983, 1.2578907, 8.184173)

[node name="Walls" type="CSGCombiner3D" parent="World"]

[node name="Wall" type="CSGBox3D" parent="World/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.414, 6.476, -16.778)
use_collision = true
size = Vector3(30.56, 11.951, 1.283)
material = ExtResource("2_60ceu")

[node name="Wall2" type="CSGBox3D" parent="World/Walls"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 13.212657, 6.476, -4.026)
use_collision = true
size = Vector3(26.871, 11.951, 1.283)
material = ExtResource("2_60ceu")

[node name="Wall3" type="CSGBox3D" parent="World/Walls"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -16.046783, 6.476, -4.026)
use_collision = true
size = Vector3(26.871, 11.951, 1.283)
material = ExtResource("2_60ceu")

[node name="Wall4" type="CSGBox3D" parent="World/Walls"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, 13.212657, 6.476, 22.90051)
use_collision = true
size = Vector3(26.871, 11.951, 1.283)
material = ExtResource("2_60ceu")

[node name="Wall5" type="CSGBox3D" parent="World/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.414, 6.476, 35.697773)
use_collision = true
size = Vector3(30.56, 11.951, 1.283)
material = ExtResource("2_60ceu")

[node name="Wall6" type="CSGBox3D" parent="World/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30.67, 6.476, 35.698)
use_collision = true
size = Vector3(30.56, 11.951, 1.283)
material = ExtResource("2_60ceu")

[node name="Wall7" type="CSGBox3D" parent="World/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30.67, 6.476, 8.836)
use_collision = true
size = Vector3(30.56, 11.951, 1.283)
material = ExtResource("2_60ceu")

[node name="Wall8" type="CSGBox3D" parent="World/Walls"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -45.23863, 6.476, 22.90051)
use_collision = true
size = Vector3(26.871, 11.951, 1.283)
material = ExtResource("2_60ceu")

[node name="Wall with hole" type="CSGCombiner3D" parent="World/Walls"]
use_collision = true

[node name="CSGBox3D6" type="CSGBox3D" parent="World/Walls/Wall with hole"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.0394707, 6.4755554, 8.8286705)
size = Vector3(29.804993, 11.951111, 1.258667)
material = ExtResource("2_60ceu")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="World/Walls/Wall with hole"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.995, 0, 2.1131973, 8.656586)
operation = 2

[node name="CSGBox3D6" type="CSGBox3D" parent="World/Walls/Wall with hole/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.37548828, -0.44700146, 0.007323265)
size = Vector3(1.7509766, 2.4188042, 0.98535156)
material = ExtResource("2_60ceu")

[node name="Wall with hole2" type="CSGCombiner3D" parent="World/Walls"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -7.2143517, 0, 22.407597)
use_collision = true

[node name="CSGBox3D6" type="CSGBox3D" parent="World/Walls/Wall with hole2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.0394707, 6.4755554, 8.8286705)
size = Vector3(29.804993, 11.951111, 1.258667)
material = ExtResource("2_60ceu")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="World/Walls/Wall with hole2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.995, 0, 2.1131973, 8.656586)
operation = 2

[node name="CSGBox3D6" type="CSGBox3D" parent="World/Walls/Wall with hole2/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.37548828, -1.1548038, 0.007323265)
size = Vector3(1.7509766, 1.0031996, 0.98535156)
material = ExtResource("2_60ceu")

[node name="Level1" type="CSGCombiner3D" parent="World"]

[node name="CSGBox3D" type="CSGBox3D" parent="World/Level1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.017, 6, -13.075918)
size = Vector3(6, 1, 6)
material = ExtResource("2_yn7lh")

[node name="CSGBox3D2" type="CSGBox3D" parent="World/Level1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.894279, 4.0000005, -5.1941066)
material = ExtResource("2_60ceu")

[node name="CSGBox3D3" type="CSGBox3D" parent="World/Level1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.9716506, 2.5, -3.767953)
size = Vector3(3.13385, 1, 1)
material = ExtResource("2_60ceu")

[node name="CSGBox3D4" type="CSGBox3D" parent="World/Level1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.826, 1, -2.322)
material = ExtResource("2_60ceu")

[node name="CSGBox3D5" type="CSGBox3D" parent="World/Level1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.6162806, 5, -6.801598)
size = Vector3(4.8985596, 1, 1)
material = ExtResource("2_60ceu")

[node name="CSGBox3D7" type="CSGBox3D" parent="World/Level1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.58393395, 5, -8.641071)
material = ExtResource("2_60ceu")

[node name="Level2" type="CSGCombiner3D" parent="World"]

[node name="CSGBox3D8" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.8689121, 1.1477051, 19.03)
size = Vector3(1.5, 1.5, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D9" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.869, 2.5, 21.5)
size = Vector3(1.5, 1.5, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D10" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.869, 2.5, 24.2)
size = Vector3(1.5, 1.5, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D11" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.393, 3, 24.2)
size = Vector3(1.5, 1.5, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D12" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.3666327, 3.746, 22.7)
size = Vector3(3.4472656, 2.992157, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D13" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.393, 4.0100374, 25.7)
size = Vector3(1.5, 3.5202312, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D14" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.2874701, 5.561946, 28.641985)
size = Vector3(5.7110596, 1.4685955, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D16" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.618088, 5.561946, 28.641985)
size = Vector3(2.3637695, 1.5, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D17" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.185612, 5.561946, 28.726915)
size = Vector3(6.281372, 1.5, 6.236145)
material = ExtResource("2_yn7lh")

[node name="CSGBox3D18" type="CSGBox3D" parent="World/Level2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.846878, 1.1477051, 14.0567)
size = Vector3(1.5, 1.5, 1.5)
material = ExtResource("2_60ceu")

[node name="LaserTrigger2" parent="World/Level2/CSGBox3D18" instance=ExtResource("3_88hyy")]
transform = Transform3D(1.0000001, 0, 0, 0, -4.3711392e-08, -1, 0, 1.0000001, -4.371139e-08, 0.012185097, 0.11018562, 0.78372765)

[node name="Level3" type="CSGCombiner3D" parent="World"]

[node name="CSGBox3D15" type="CSGBox3D" parent="World/Level3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22.65767, 1.1477051, 19.03)
size = Vector3(1.5, 1.5, 1.5)
material = ExtResource("2_60ceu")

[node name="CSGBox3D19" type="CSGBox3D" parent="World/Level3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.191612, 1.1477051, 14.0567)
size = Vector3(1.5, 1.5, 1.5)
material = ExtResource("2_60ceu")

[node name="LaserTrigger2" parent="World/Level3/CSGBox3D19" instance=ExtResource("3_88hyy")]
transform = Transform3D(1.0000001, 0, 0, 0, -4.3711392e-08, -1, 0, 1.0000001, -4.371139e-08, 0.012185097, 0.11018562, 0.78372765)

[node name="Player" parent="." instance=ExtResource("3_ud66p")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.0456395, 1.0758696, 14.951731)
SPEED = 2.0
move_lerp = 5
rot_lerp = 7
jumpHeight = 1.5
jumpDistance = 2.5
smJumpHeight = 0.75
smJumpDistance = 2.0
glidingRate = -0.5

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 1920.0
offset_bottom = 1080.0
mouse_filter = 1

[node name="FadeTransition" type="ColorRect" parent="Control"]
visible = false
layout_mode = 0
offset_right = 1920.0
offset_bottom = 1080.0
color = Color(0, 0, 0, 1)
script = ExtResource("7_qq80v")

[node name="ColorRect" type="ColorRect" parent="Control"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 9.0
offset_top = -212.0
offset_right = 651.0
offset_bottom = -32.0
grow_vertical = 0
color = Color(0, 0, 0, 0.368627)

[node name="RichTextLabel" type="RichTextLabel" parent="Control/ColorRect"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/normal_font_size = 25
text = "Controls:
WASD - Move			Space - Jump/Hover(Hold)
1,2,3 - Selecting Mutation
I - Activate selected mutation
K - Deactivate selected mutation"

[node name="Ability1" type="Area3D" parent="." groups=["ability"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.03907609, 6.937812, -14.234759)

[node name="Sphere" type="MeshInstance3D" parent="Ability1"]
material_override = ExtResource("4_3lawf")
mesh = SubResource("SphereMesh_3lawf")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ability1"]
shape = SubResource("SphereShape3D_3lawf")

[node name="Ability2" type="Area3D" parent="." groups=["ability"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.013625, 6.937812, 28.946669)

[node name="Sphere" type="MeshInstance3D" parent="Ability2"]
material_override = SubResource("ShaderMaterial_3og0a")
mesh = SubResource("SphereMesh_3lawf")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ability2"]
shape = SubResource("SphereShape3D_3lawf")

[connection signal="laser_triggered" from="World/LaserTrigger" to="World/WhiteBlock/Mover" method="enableMovement"]
[connection signal="laser_triggered" from="World/Level2/CSGBox3D18/LaserTrigger2" to="World/WhiteBlock2/Mover" method="enableMovement"]
[connection signal="laser_triggered" from="World/Level3/CSGBox3D19/LaserTrigger2" to="World/WhiteBlock2/Mover" method="enableMovement"]
[connection signal="body_entered" from="Ability1" to="Player" method="enableAb1"]
[connection signal="body_entered" from="Ability2" to="Player" method="enableAb2"]
